<!DOCTYPE html>
<html ng-app="App">
<head>
  <title>LegoByMini</title>
  
  <meta name="viewport" content="width=device-width, initial-scale=1">
  
  <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.15/angular.min.js"></script>
  <script src="main.js"></script>
  
  <style>
   #main{
     margin: 10px 0;
   }
   .ours{
     
   }
   .ours td{
/*     color: #3c763d;*/
     color: #000;
     font-weight: bolder;
     background: #dff0d8;
/*     border-color: #FFF !important;*/
   }
   
   .table{
     margin-top: 20px;
   }
  </style>
  
</head>

<body>
  
  <div id="main">
    <div class="container" ng-controller="ScoreBoardController" align="center">
      <div  ng-show="items.length > 0">
        <div align="right"><a href="javascript:;" ng-click="load()" ng-disabled="loading" class="btn btn-primary">Refresh</a></div>
        
        <table class="table">
          <tr ng-repeat="item in items" ng-class="{ours: (ours.indexOf(item.username) >= 0)}">
            <td width="30">{{item.place}}</td>
            <td>{{item.username}}</td>
            
            <td>
              <span ng-show="countTotalRealtimeDogs(item.username) > 0"><img src="cry_dog_2x.png" width="16" />&nbsp;{{countTotalRealtimeDogs(item.username)}}</span>
            </td>
            
            <td align="right">
              {{item.likes}}
              <div class="small"></div>
            </td>
            <td width="60" align="right">
              <span ng-show="realtimeLikesDifference(item) > 0">+</span>{{realtimeLikesDifference(item)}}
<!-- 
              <div ng-repeat="media in user_medias[item.username]">
                {{medias[media.url].likes.fb}}
                
                <span ng-show="realtime_medias.fb[media.url] > 0 && realtime_medias.fb[media.url] - medias[media.url].likes.fb != 0">(+{{realtime_medias.fb[media.url] - medias[media.url].likes.fb}})</span>
                
                |
                
                {{medias[media.url].likes.vk}}
                
                <span ng-show="realtime_medias.vk[media.url] > 0 && countRealtimeVK(media.url) != 0">(<span ng-show="countRealtimeVK(media.url) > 0">+</span>{{countRealtimeVK(media.url)}})</span>
              </div>
              -->
              
              <div class="small"></div>
            </td>
          </tr>
        </table>
      
        <div align="right"><a href="javascript:;" ng-click="load()" ng-disabled="loading" class="btn btn-primary">Refresh</a></div>
      </div>
      <div ng-hide="items.length > 0" align="center">
        Loading...
      </div>
      
    </div>
  </div>
  
  
</body>
</html>
